<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:jx="http://ns.devingfx.com/jxml/2015"
	  xmlns:es6="http://www.ecma-international.org/ecma-262/6.0/"
	  xmlns:js="data.*"
	  xmlns:model="data.models.*"
	  xmlns:gfx="themes.*"
	  xmlns:jq="jquery.cdn"
	  xmlns:my="/myComponents/"
	  xmlns:local="*"
	  xmlns:type="https://github.com/Microsoft/TypeScript"
	  xmlns:coffee="http://ns.coffeescript.org/"
	  xmlns:as="https://asjs.io/"
	  xmlns:mx="apache.flex"
	  xmlns:THREE="THREE.js"
	  xmlns:sass="sass"
	  xmlns:less="less"
	  xmlns:svg="http://www.w3.org/2000/svg"
	  xmlns:localPack="./severalClassesPackage.xml">
	
	<head>
		<title>Element.querySelector with namespaces - Jilex test</title>
		<meta charset="utf-8"/>
		
		<script src="../../../src/libs/jquery-2.0.3.min.js"></script>
		<script src="../../../dist/jilex-classes.src.js" autoLoad="false"></script>
		
		<link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.19.0.css"/>
		
		<style>
        	@namespace url(http://www.w3.org/1999/xhtml);
			@namespace jx url(http://ns.devingfx.com/jxml/2015);
        	@namespace js url(data.*);
        	@namespace ak url(js.AppKit);
        	@namespace local url(*); /* bug with this uri: match all namespaces */
			
			html, body {
				background: transparent;
				width: 100%;
				height: 100%;
				margin: 0;
				padding: 0;
			}
			
			jx|Button {
				display: inline-block;
				background: #8A2BE2;
				padding: 5px 10px;
				color: #FFF;
				font-family: sans-serif;
				border-radius: 4px;
				box-shadow: 0 2px 7px #8A2BE2;
				text-shadow: 0 1px 0 black;
			}
			jx|Button:before {
				content: attr(label);
			}
			
			/*local|Button,*/
			js|* { display: none; }
		</style>
		
		
		<script type='commented'>
			// document.namespaces.k.Demo = function Demo()
			// document.namespaces.local[0].Demo = function Demo()
			// {
			// 	var node = this;
			// 	$.get('Demo.xml', {type:'xml'})
			// 		.done(function( xml )
			// 		{
			// 			window.xml = xml;
			// 			var $head = $('head', xml);
			// 			window.$headers = $head.children().remove();
			// 			$head.remove();
			// 			node.appendChild( xml.documentElement.cloneNode(true) ); 
			// 			$headers
			// 				.filter(function(){return this.localName != "script"})
			// 				.each( function(){$('head').append(this)} );
			// 			var $scripts = $headers.filter('script')
			// 				.each( function(){$('head').append(this)} );
			// 		})
			// 		.fail(function( xml )
			// 		{
			// 			window.xml = xml;
			// 			console.log(
			// 				(new DOMParser)
			// 					.parseFromString(xml.responseText, "text/xml")
			// 						.querySelectorAll('parsererror div')
			// 			);
			// 		})
				
			// }
			
		</script>
		
		<type:Script><![CDATA[
		interface Foo {
			public bar:string;
		}
		
		let Jilex = new Promise( ok => 
			getOldProject( (adobe || apache).Flex[3..4] ) )
				.then( (mxml, as3) => 
					transpile({
						xhtml: mxml, 
						es6: as3
					})
				)
		)
		
		]]></type:Script>
	</head>
	
	<!-- Namespace manifests can be included in the page -->
	<jx:Namespace uri="http://ns.devingfx.com/jxml/2015">
		<jx:Component id="Namespace"	class="jx.Namespace"></jx:Component>
		<jx:Component id="Component"	class="jx.Component"></jx:Component>
	</jx:Namespace>
	
	<jx:Namespace uri="*">
		<jx:Component id="Demo"			url="Demo.xml"></jx:Component>
	</jx:Namespace>
	
	<body debug="true">																																																																			
		
		<my:Comp text="Coucou"/>
		<my:SuperComp text="Hello"/>
		
		<local:MyComp text="Coucou"/>
		<local:MySuperComp/>
		
		<gfx:ThemeChooser id="themesMenu" class="close" side="right" jx:id="coucou"
						  style="color: red"/>
		
		
		
		<local:Button>Coucou</local:Button>

		
		<js:Array id="myData">
			<js:String>Coucou</js:String>
			<js:String>Monde</js:String>
			<js:Number>42</js:Number>
			<js:Boolean>false</js:Boolean>
			<js:Object>
				<js:String key="title">Coucou</js:String>
				<js:Number key="count">42</js:Number>
				<js:Boolean key="doAnything">false</js:Boolean>
			</js:Object>
			<js:json>{"go": { "ahead": "with", "your": "plain", "json": true} }</js:json>
			<js:RegExp modifier="g">(.*?)@(.*?).(.*?)</js:RegExp>
		</js:Array>
		
		<js:XML source="./datas/catalog.xml"></js:XML>
		
		<Div/>
		<Input/>
		<Element/>
		<jx:Element/>
		
		<Demo xmlns="*"></Demo>
		
		<jx:Carousel/>
		<jx:Editor/>
		
		<Editor xmlns="http://ns.devingfx.com/jxml/2015">
			<Button label="Editor"/>
			<jx:TextInput value="monde"/>
		</Editor>
		
		
		<type:Script>
		var hello:string = "World";
		</type:Script>
		
		
		<coffee:Script>
		fill = (container, liquid = "coffee") -> "Filling the #{container} with #{liquid}..."
		</coffee:Script>
		
		
		<es6:Script>
		class PasClass extends Coool { constructor(){ super('!'); } }
		</es6:Script>
		
		
		<js:Script>
		((function(a,x){}(function(a,x){}))()(function(a,x)())(function(a,x))()
		</js:Script>
		
		
		<as:Script>
		package my { public class MyClass { private var foo:Bar; function MyClass(){} } }
		</as:Script>
		<mx:Script>
		
		</mx:Script>
		
		
		<sass:Style>
		
		</sass:Style>
		
		
		<less:Style>
		
		</less:Style>
		
		
		<THREE:WebGLRenderer>
			<THREE:Scene>
				<THREE:AmbientLight intensity="0.3"/>
				<THREE:Sphere radius="45"/>
			</THREE:Scene>
		</THREE:WebGLRenderer>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		<div id="qunit"></div>
		<div id="qunit-fixture"></div>
		<script src="http://code.jquery.com/qunit/qunit-1.19.0.js"></script>
		<script src="../../../node_modules/should/should.js"></script>
		<script src="tests.js"></script>
	</body>
</html>